<div class="container my-4">
  <h2 class="mb-3 text-center">Todo List</h2>
  <div class="input-group mb-3">
    <input type="text" class="form-control" placeholder="Search tasks..."
      (input)="search.set($any($event.target).value)" (keydown.enter)="addTask()" />
  </div>

  <div class="input-group mb-3">
    <input type="text" class="form-control" placeholder="Add new task..."
      (input)="newTask.set($any($event.target).value)" (keydown.enter)="addTask()"  [value]="newTask()" />
    <button class="btn btn-primary" (click)="addTask()">Add</button>
  </div>

  <ul class="list-group">
    @for (todo of searchedTodos(); track todo.id) {
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        <input type="checkbox" class="form-check-input me-2" [checked]="todo.done" (change)="toggleDone(todo)" />
        <span [class.text-decoration-line-through]="todo.done">
          {{ todo.title }}
        </span>
      </div>
      <button class="btn btn-sm btn-outline-danger" (click)="deleteTask(todo)">
        Complete
      </button>
    </li>
    } @empty {
    <li class="list-group-item text-center text-muted">No tasks found</li>
    }
  </ul>


  <p class="mt-3 text-muted text-center">
    Remaining: {{remaining() }} task(s)
  </p>
</div>
